services:
   app:
      container_name: graphandco
      build:
         context: .
         dockerfile: Dockerfile
         args:
            NEXT_PUBLIC_WP_GRAPHQL: ${NEXT_PUBLIC_WP_GRAPHQL}
            NEXT_PUBLIC_WP_REST: ${NEXT_PUBLIC_WP_REST}
            REVALIDATE_TIME: ${REVALIDATE_TIME:-300}
            NEXT_PUBLIC_MATOMO_URL: ${NEXT_PUBLIC_MATOMO_URL}
            NEXT_PUBLIC_MATOMO_SITE_ID: ${NEXT_PUBLIC_MATOMO_SITE_ID}
      restart: unless-stopped
      # ports:
      #    - "3000:3000"
      env_file:
         - .env
      networks:
         - web-network

networks:
   web-network:
      external: true
